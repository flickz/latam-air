function TAMScrollBox(box){var jqBox=$(box);jqBox.css("position","relative").css("z-index","10");box.origY=jqBox.offset().top;box.origWidth=jqBox.css("width");$(window).bind("resize load",function(){var columnnWidth=jqBox.parents(".column .frame:first").innerWidth();jqBox.width(columnnWidth);});$(window).bind("scroll resize load",function(){$(window).height();$(document).height();var boxHeight=$(jqBox).innerHeight();var innerHeight=$("#mainOuter").innerHeight();var outerHeight=$("#footer").offset().top-$("#footer").css("margin-top").replace("px","");var y=$(jqBox).offset().top;var scrollTop=$(document).scrollTop();var innerHeightFull=$("#rightPanel").innerHeight();smallerThenInner=boxHeight+40<innerHeight-20;smallerThenInnerFull=innerHeightFull+40<innerHeight-20;var glueTop=(box.origY)<scrollTop;var glueBottom=((scrollTop+boxHeight)>(outerHeight));if(smallerThenInner&&smallerThenInnerFull){var glue=glueTop&&glueBottom;switch(glue){case true:if((y-scrollTop)<1){jqBox.css("position","").css("top","auto").css("bottom",(20+"px"));jqBox.parents("aside:first").css({"position":"absolute"}).css("right","0");$("#mainOuter").css("position","relative");}else{jqBox.css("position","fixed").css("bottom","auto").css("top","0px");jqBox.parents("aside:first").css({"position":""});$("#mainOuter").css("position","relative");}break;case false:if((box.origY-scrollTop)<1){jqBox.css("position","fixed").css("bottom","auto").css("top","0px");jqBox.parents("aside:first").css({"position":""});$("#mainOuter").css("position","relative");}else{jqBox.css("position","relative").css("z-index","10").css("top","").css("bottom","");jqBox.parents("aside:first").css({"position":""});$("#mainOuter").css("position","relative");}break;}}else{jqBox.css("position","relative").css("z-index","10");}});}