(function($){$("table").each(function(){if($(this).find("thead").length>0&&$(this).find("th").length>0){var $w=$(window),$t=$(this);$t.addClass("sticky-enabled").css({margin:0,width:"100%"});if($t.hasClass("overflow-y")){$t.removeClass("overflow-y").parent().addClass("overflow-y");}var setWidths=function(){var $stickyHeadOut=$(".sticky-thead-out"),$stickyHeadIn=$(".sticky-thead-in"),$stickyWrapOut=$(this).parent("#sticky-wrap-out"),$stickyWrapIn=$(this).parent("#sticky-wrap-in");$t.find("thead th").each(function(i){$stickyHeadOut.find("th").eq(i).width($(this).width());}).end();$stickyHeadOut.width($t.width());$stickyHeadIn.width($t.width());},repositionStickyHead=function(){var $stickyHeadOut=$(".sticky-thead-out"),$stickyHeadIn=$(".sticky-thead-in"),$stickyWrapOut=$(this).parent("#sticky-wrap-out"),$stickyWrapIn=$(this).parent("#sticky-wrap-in");var stickyWrapperOut=document.getElementById("sticky-wrap-out");if(stickyWrapperOut){var rectOut=stickyWrapperOut.getBoundingClientRect();if(rectOut.top<$(".tam-header-bar").height()){$theadOut=$("#sticky-wrap-out > table").find("thead").detach();$theadOut.appendTo($stickyHeadOut);var headerHeight=136;if($(".tam-header-container")[0]){headerHeight=$(".tam-header-container").height()+$(".tam-header-container").position().top+3;}var errorsHeight=0;$("#mainInner").prevAll(".warning").each(function(){if($(this).css("display")!="none"){errorsHeight+=$(this).outerHeight(true);}});$stickyHeadOut.css({position:"absolute",top:$w.scrollTop()-headerHeight-errorsHeight,left:0,opacity:1});$(".sticky-header-bg").show();}if(rectOut.top>0){if($("#sticky-wrap-out > table.realTable > thead").length==0){$theadOut=$(".sticky-thead-out").find("thead").detach();$("#sticky-wrap-out > .realTable").prepend($theadOut);}$stickyHeadOut.css({opacity:0});$(".sticky-header-bg").hide();}if(rectOut.bottom<136){$stickyHeadOut.css({opacity:0});}}var stickyInWrapper=document.getElementById("sticky-wrap-in");if(stickyInWrapper){var rectIn=document.getElementById("sticky-wrap-in").getBoundingClientRect();if(rectIn.top<$(".tam-header-bar").height()){$theadIn=$("#sticky-wrap-in > table").find("thead").detach();$theadIn.appendTo($stickyHeadIn);var headerHeight=136;if($(".tam-header-container")[0]){headerHeight=$(".tam-header-container").height()+$(".tam-header-container").position().top+3;}var errorsHeight=0;$("#mainInner").prevAll(".warning").each(function(){if($(this).css("display")!="none"){errorsHeight+=$(this).outerHeight(true);}});$stickyHeadIn.css({position:"absolute",top:$w.scrollTop()-headerHeight-errorsHeight,left:0,opacity:1});}if(rectIn.top>0){if($("#sticky-wrap-in > table.realTable > thead").length==0){$theadIn=$(".sticky-thead-in").find("thead").detach();$("#sticky-wrap-in > .realTable").prepend($theadIn);}$stickyHeadIn.css({opacity:0});}if(rectIn.bottom<136){$stickyHeadIn.css({opacity:0});}}};setWidths();$w.load(setWidths).resize(function(){setWidths();}).scroll(repositionStickyHead);}});})(jQuery);