var dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len){val="0"+val;}return val;};return function(date,mask,utc,doNotUseUTC){if(typeof doNotUseUTC==="undefined"){date=theUtils.getUtcDate(date);}var dF=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(date)=="[object String]"&&!/\d/.test(date)){mask=date;date=undefined;}date=date?new Date(date):new Date();if(isNaN(date)){throw SyntaxError("invalid date");}mask=String(mask);if(mask.slice(0,4)=="UTC:"){mask=mask.slice(4);utc=true;}if(utc=="NO_TOUCH"){var noTouch=true;utc=false;}else{var noTouch=false;}var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),utc=noTouch?true:utc,o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();dateFormat.i18n={dayNames:[clientMessages["ALLP.listelem.3LettersDay.7"],clientMessages["ALLP.listelem.3LettersDay.1"],clientMessages["ALLP.listelem.3LettersDay.2"],clientMessages["ALLP.listelem.3LettersDay.3"],clientMessages["ALLP.listelem.3LettersDay.4"],clientMessages["ALLP.listelem.3LettersDay.5"],clientMessages["ALLP.listelem.3LettersDay.6"],clientMessages["ALLP.listelem.LongDay.7"],clientMessages["ALLP.listelem.LongDay.1"],clientMessages["ALLP.listelem.LongDay.2"],clientMessages["ALLP.listelem.LongDay.3"],clientMessages["ALLP.listelem.LongDay.4"],clientMessages["ALLP.listelem.LongDay.5"],clientMessages["ALLP.listelem.LongDay.6"]],monthNames:[clientMessages["ALLP.listelem.ShortMonth.01"],clientMessages["ALLP.listelem.ShortMonth.02"],clientMessages["ALLP.listelem.ShortMonth.03"],clientMessages["ALLP.listelem.ShortMonth.04"],clientMessages["ALLP.listelem.ShortMonth.05"],clientMessages["ALLP.listelem.ShortMonth.06"],clientMessages["ALLP.listelem.ShortMonth.07"],clientMessages["ALLP.listelem.ShortMonth.08"],clientMessages["ALLP.listelem.ShortMonth.09"],clientMessages["ALLP.listelem.ShortMonth.10"],clientMessages["ALLP.listelem.ShortMonth.11"],clientMessages["ALLP.listelem.ShortMonth.12"],clientMessages["ALLP.listelem.LongMonth.01"],clientMessages["ALLP.listelem.LongMonth.02"],clientMessages["ALLP.listelem.LongMonth.03"],clientMessages["ALLP.listelem.LongMonth.04"],clientMessages["ALLP.listelem.LongMonth.05"],clientMessages["ALLP.listelem.LongMonth.06"],clientMessages["ALLP.listelem.LongMonth.07"],clientMessages["ALLP.listelem.LongMonth.08"],clientMessages["ALLP.listelem.LongMonth.09"],clientMessages["ALLP.listelem.LongMonth.10"],clientMessages["ALLP.listelem.LongMonth.11"],clientMessages["ALLP.listelem.LongMonth.12"]]};Date.prototype.format=function(mask,utc,doNotUseUTC){return dateFormat(this,mask,utc,doNotUseUTC);};